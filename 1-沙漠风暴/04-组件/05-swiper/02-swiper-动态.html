<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <script src="swiper/swiper-bundle.min.js"></script>
    <link rel="stylesheet" href="swiper/swiper-bundle.min.css">
    <style>
        .taosu {
            height: 500px;
        }
    </style>
</head>

<body>
    <header>导航</header>
    <div class="swiper taosu">
        <div class="swiper-wrapper">

        </div>
        <!-- 如果需要分页器 -->
        <div class="swiper-pagination"></div>

        <!-- 如果需要导航按钮 -->
        <div class="swiper-button-prev"></div>
        <div class="swiper-button-next"></div>

        <!-- 如果需要滚动条 -->
        <!-- <div class="swiper-scrollbar"></div> -->
    </div>
    <footer>底部内容</footer>
    <script>
        setTimeout(() => {
            var list = ["aaa", "bbb", "ccc"]
            var newList = list.map(item => `<div class="swiper-slide">${item}</div>`)
            console.log(newList.join(""))
            var owrapper = document.querySelector(".swiper-wrapper")
            owrapper.innerHTML = newList.join("")

            init()
        }, 2000)

        function init() {
            new Swiper(".taosu", {
                // direction: 'vertical', // 垂直切换选项
                loop: true, // 循环模式选项

                // 如果需要分页器
                pagination: {
                    el: '.swiper-pagination',
                },

                // 如果需要前进后退按钮
                navigation: {
                    nextEl: '.swiper-button-next',
                    prevEl: '.swiper-button-prev',
                },

                // 如果需要滚动条
                // scrollbar: {
                //     el: '.swiper-scrollbar',
                // },

                //自动切换效果（自动轮播）
                autoplay: {
                    delay: 2500,
                    disableOnInteraction: false,
                },
            })
        }

        //因为异步setTimeout，会有swiper初始化过早的问题：swiper的dom节点创建出来了，但数据没有回来，所以解决方法：
        // 1、原生js的方法是：封装new swiper，ajax请求数据回来后再调用
        // 2、vue的方法：利用生命周期updated，在mounted中new swiper也会过早
    </script>
</body>

</html>